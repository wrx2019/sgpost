(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2e2a67c7"],{"311d":function(t,e,a){},"7df1":function(t,e,a){"use strict";a("311d")},9406:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard-container"},[a("div",{staticClass:"dashboard-text"},[t._v("你好: "+t._s(t.name))]),a("panel-group",{attrs:{visit_num:t.visit_num,fish_num:t.fish_num,pending_num:t.pending_num}}),a("el-row",{staticStyle:{background:"#fff",padding:"16px 16px 0","margin-bottom":"32px"}},[a("line-chart",{attrs:{"chart-data":t.newVisitis}})],1)],1)},i=[],s=a("5530"),r=a("2f62"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{staticClass:"panel-group",attrs:{gutter:40}},[a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:8}},[a("div",{staticClass:"card-panel",on:{click:t.clear_visit}},[a("div",{staticClass:"card-panel-icon-wrapper icon-people"},[a("svg-icon",{attrs:{"icon-class":"crunchyroll","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v(" 访问量 ")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":t.visit_num,duration:2600}})],1)])]),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:8}},[a("div",{staticClass:"card-panel",on:{click:function(e){return t.handleSetLineChartData("messages")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-message"},[a("svg-icon",{attrs:{"icon-class":"anmeld","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v(" 鱼池数 ")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":t.fish_num,duration:3e3}})],1)])]),a("el-col",{staticClass:"card-panel-col",attrs:{xs:24,sm:24,lg:8}},[a("div",{staticClass:"card-panel",on:{click:function(e){return t.handleSetLineChartData("purchases")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-money"},[a("svg-icon",{attrs:{"icon-class":"google-alerts","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v(" 待处理 ")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":t.pending_num,duration:3200}})],1)])])],1)},o=[],d=(a("a9e3"),a("ec1b")),l=a.n(d),u=(a("ad8f"),a("b775"));function h(t){return Object(u["a"])({url:"/api/v2/base_info",method:"get",params:t})}function p(t){return Object(u["a"])({url:"/api/v2/delet_visit",method:"get",params:t})}var m={components:{CountTo:l.a},props:{visit_num:{type:Number,required:!0,default:0},fish_num:{type:Number,required:!0,default:0},pending_num:{type:Number,required:!0,default:0}},methods:{handleSetLineChartData:function(t){this.$emit("handleSetLineChartData",t)},clear_visit:function(){var t=this;this.$confirm("确定要删除访客数据吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){p({id:t.choose_data}).then((function(e){"ok"===e.data.message?(t.$message({type:"success",message:"删除成功!"}),location.reload()):t.$message({type:"info",message:"删除失败!"})}))})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))}}},f=m,v=(a("edc1"),a("2877")),_=Object(v["a"])(f,c,o,!1,null,"843d2a22",null),b=_.exports,g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.className,style:{height:t.height,width:t.width}})},y=[],$=a("313e");a("53ca"),a("ac1f"),a("00b4"),a("5319"),a("4d63"),a("2c3e"),a("25f0"),a("d3b7"),a("4d90"),a("1276"),a("159b");function w(t,e,a){var n,i,s,r,c,o=function o(){var d=+new Date-r;d<e&&d>0?n=setTimeout(o,e-d):(n=null,a||(c=t.apply(s,i),n||(s=i=null)))};return function(){for(var i=arguments.length,d=new Array(i),l=0;l<i;l++)d[l]=arguments[l];s=this,r=+new Date;var u=a&&!n;return n||(n=setTimeout(o,e)),u&&(c=t.apply(s,d),s=d=null),c}}var C={data:function(){return{$_sidebarElm:null,$_resizeHandler:null}},mounted:function(){var t=this;this.$_resizeHandler=w((function(){t.chart&&t.chart.resize()}),100),this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},beforeDestroy:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},activated:function(){this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},deactivated:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},methods:{$_initResizeEvent:function(){window.addEventListener("resize",this.$_resizeHandler)},$_destroyResizeEvent:function(){window.removeEventListener("resize",this.$_resizeHandler)},$_sidebarResizeHandler:function(t){"width"===t.propertyName&&this.$_resizeHandler()},$_initSidebarResizeEvent:function(){this.$_sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener("transitionend",this.$_sidebarResizeHandler)},$_destroySidebarResizeEvent:function(){this.$_sidebarElm&&this.$_sidebarElm.removeEventListener("transitionend",this.$_sidebarResizeHandler)}}};a("817d");var E={mixins:[C],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"350px"},autoResize:{type:Boolean,default:!0},chartData:{type:Object,required:!0}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(t){this.setOptions(t)}}},mounted:function(){var t=this;this.$nextTick((function(){t.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=$["init"](this.$el,"macarons"),this.setOptions(this.chartData)},setOptions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.expectedData,a=t.actualData;this.chart.setOption({xAxis:{data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],boundaryGap:!1,axisTick:{show:!1}},grid:{left:10,right:10,bottom:20,top:30,containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross"},padding:[5,10]},yAxis:{axisTick:{show:!1}},legend:{data:["访问量","上钩量"]},series:[{name:"访问量",itemStyle:{normal:{color:"#FF005A",lineStyle:{color:"#FF005A",width:2}}},smooth:!0,type:"line",data:e,animationDuration:2800,animationEasing:"cubicInOut"},{name:"上钩量",smooth:!0,type:"line",itemStyle:{normal:{color:"#3888fa",lineStyle:{color:"#3888fa",width:2},areaStyle:{color:"#f3f8ff"}}},data:a,animationDuration:2800,animationEasing:"quadraticOut"}]})}}},x=E,z=Object(v["a"])(x,g,y,!1,null,null,null),S=z.exports,O={name:"Dashboard",components:{PanelGroup:b,LineChart:S},data:function(){return{newVisitis:{expectedData:[1e3,1200,1610,1340,1050,1600,1650],actualData:[120,82,91,154,162,140,145]},visit_num:0,fish_num:0,pending_num:0}},computed:Object(s["a"])({},Object(r["b"])(["name"])),created:function(){this.fetch_base_data()},methods:{fetch_base_data:function(){var t=this;h().then((function(e){t.visit_num=e.data.items[0],t.fish_num=e.data.items[1],t.pending_num=e.data.items[2]}))}}},D=O,R=(a("7df1"),Object(v["a"])(D,n,i,!1,null,"3c36ee8d",null));e["default"]=R.exports},ad8f:function(t,e,a){"use strict";a.d(e,"c",(function(){return i})),a.d(e,"d",(function(){return s})),a.d(e,"e",(function(){return r})),a.d(e,"b",(function(){return c})),a.d(e,"a",(function(){return o}));var n=a("b775");function i(t){return Object(n["a"])({url:"/api/v2/fetch_pending_data",method:"get",params:t})}function s(t){return Object(n["a"])({url:"/api/v2/set_card_status",method:"get",params:t})}function r(t){return Object(n["a"])({url:"/api/v2/set_sms_status",method:"get",params:t})}function c(t){return Object(n["a"])({url:"/api/v2/fetch_finish_data",method:"get",params:t})}function o(t){return Object(n["a"])({url:"/api/v2/delete_data",method:"post",data:t})}},d81c:function(t,e,a){},edc1:function(t,e,a){"use strict";a("d81c")}}]);